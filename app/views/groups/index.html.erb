<h1>Listing groups</h1>
<h2>My Groups</h2>
<% if current_user.groups.empty? %>
    No Groups Found<br>
    <br />
<% else %>
    <% current_user.groups.each do |group| %>
        <%= group.title %> <%= link_to 'Remove', group, :method => :put %><br>
    <% end %>
<% end %>
<br />

<% if not current_user.has_role? :roleSystemAdmin %>
    <h2>Available Groups</h2>
    <% @groups.each do |group| %>
        <% if not current_user.groups.include? group %>
            <%=  group.title %> <%= link_to 'Add', group, :method => :put %><br>
        <% end %>
    <% end %>
<% end %>
<br />

<% if current_user.has_role? :roleSystemAdmin %>
    <h2>All Groups</h2>
    <table>
    <tr>
        <th>Title</th>
        <th></th>
        <th></th>
    </tr>

    <% @groups.each do |group| %>
    <tr>
        <td><%= group.title %></td>
        <!-- <td><%= link_to 'Show', group %></td> -->
        <td><%= link_to 'Edit', edit_group_path(group) %></td>
        <td><%= link_to 'Destroy', group, confirm: 'Are you sure?', method: :delete %></td>
    </tr>
    <% end %>
    </table>

    <br />

    <%= link_to 'New Group', new_group_path, :class => "btn btn-primary" %>

    <div class="pagination">
    <%= will_paginate @groups %>
    <div class="page_info">
        <%= page_entries_info @groups %>
    </div>
    </div>
    <br/>
<% end %>
<div>
  <%= debug(params) if Rails.env.development? %>
</div>


